(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[138],{16894:function(O,g,e){"use strict";var W=e(7381),y=e(34590);g.ZP=y.Z},57127:function(O,g,e){"use strict";e.r(g),e.d(g,{default:function(){return X}});var W=e(57338),y=e(25084),ee=e(49111),D=e(19650),ne=e(62350),j=e(75443),re=e(57663),A=e(71577),te=e(71153),T=e(60331),C=e(2824),K=e(86582),ae=e(34792),m=e(48086),h=e(3182),M=e(94043),a=e.n(M),N=e(73171),Z=e(67294),Y=e(80853),z=e(16894),G=e(96459),$=e(8870),L=e(55168);function U(i,l){return R.apply(this,arguments)}function R(){return R=(0,h.Z)(a().mark(function i(l,t){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,L.WY)("/api/monitor/logininfor/list",(0,$.Z)({method:"GET",params:(0,$.Z)({},l)},t)));case 1:case"end":return r.stop()}},i)})),R.apply(this,arguments)}function b(){return E.apply(this,arguments)}function E(){return E=(0,h.Z)(a().mark(function i(){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,L.WY)("/api/monitor/logininfor/clean",{method:"DELETE"}));case 1:case"end":return t.stop()}},i)})),E.apply(this,arguments)}function H(i){return I.apply(this,arguments)}function I(){return I=(0,h.Z)(a().mark(function i(l){return a().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,L.WY)("/api/monitor/logininfor/".concat(l),{method:"DELETE"}));case 1:case"end":return o.stop()}},i)})),I.apply(this,arguments)}var u=e(85893),J=function(){var i=(0,h.Z)(a().mark(function l(){var t;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=m.default.loading("Configuring"),r.prev=1,r.next=4,b();case 4:return t(),m.default.success("Configuration is successful"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),t(),m.default.error("Configuration failed, please try again!"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},l,null,[[1,9]])}));return function(){return i.apply(this,arguments)}}(),Q=function(){var i=(0,h.Z)(a().mark(function l(t){var o;return a().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o=m.default.loading("\u6B63\u5728\u5220\u9664"),t){s.next=3;break}return s.abrupt("return",!0);case 3:return s.prev=3,s.next=6,H((0,K.Z)(t.map(function(S){return S.infoId})));case 6:return o(),m.default.success("\u5220\u9664\u6210\u529F"),s.abrupt("return",!0);case 11:return s.prev=11,s.t0=s.catch(3),o(),m.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01"),s.abrupt("return",!1);case 16:case"end":return s.stop()}},l,null,[[3,11]])}));return function(t){return i.apply(this,arguments)}}(),V=function(){var l=(0,Z.useState)(!1),t=(0,C.Z)(l,2),o=t[0],r=t[1],s=(0,Z.useRef)(),S=(0,Z.useState)(),w=(0,C.Z)(S,2),c=w[0],x=w[1],k=(0,Z.useState)([]),B=(0,C.Z)(k,2),q=B[0],P=B[1],F=[{title:"\u8BBF\u95EE\u7F16\u53F7",dataIndex:"infoId",hideInSearch:!0,render:function(d,n){return(0,u.jsx)("a",{onClick:function(){x(n),r(!0)},children:d})}},{title:"\u7528\u6237\u540D\u79F0",dataIndex:"userName"},{title:"\u767B\u5F55\u5730\u5740",dataIndex:"ipaddr"},{title:"\u767B\u5F55\u5730\u70B9",dataIndex:"loginLocation",hideInSearch:!0},{title:"\u6D4F\u89C8\u5668",dataIndex:"browser",hideInSearch:!0},{title:"\u64CD\u4F5C\u7CFB\u7EDF",dataIndex:"os",hideInSearch:!0},{title:"\u767B\u5F55\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{"0":{text:(0,u.jsx)(T.Z,{color:"blue",children:"\u6210\u529F"}),status:"Default"},"1":{text:(0,u.jsx)(T.Z,{color:"red",children:"\u5931\u8D25"}),status:"Processing"}}},{title:"\u64CD\u4F5C\u4FE1\u606F",dataIndex:"msg",hideInSearch:!0},{title:"\u767B\u5F55\u65E5\u671F",sorter:!0,dataIndex:"loginTime",valueType:"dateTime",hideInSearch:!0}];return(0,u.jsxs)(Y.ZP,{children:[(0,u.jsx)(z.ZP,{headerTitle:"\u767B\u5F55\u65E5\u5FD7\u5217\u8868",actionRef:s,rowKey:"infoId",search:{labelWidth:120},toolBarRender:function(){return[(0,u.jsxs)(j.Z,{title:"\u786E\u5B9A\u8981\u6E05\u7A7A\u767B\u5F55\u65E5\u5FD7?",onConfirm:(0,h.Z)(a().mark(function d(){var n,f;return a().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,J();case 2:(n=s.current)===null||n===void 0||(f=n.reloadAndRest)===null||f===void 0||f.call(n);case 3:case"end":return v.stop()}},d)})),onCancel:function(){},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:[(0,u.jsxs)(A.Z,{type:"primary",children:[(0,u.jsx)(N.Z,{})," \u6E05\u7A7A"]},"primary"),","]})]},request:U,columns:F,rowSelection:{onChange:function(d,n){P(n)}},tableAlertRender:function(d){var n=d.selectedRowKeys,f=d.onCleanSelected;return(0,u.jsx)(D.Z,{size:24,children:(0,u.jsxs)("span",{children:["\u5DF2\u9009 ",n.length," \u9879",(0,u.jsx)("a",{style:{marginLeft:8},onClick:f,children:"\u53D6\u6D88\u9009\u62E9"})]})})},tableAlertOptionRender:function(){return(0,u.jsx)(D.Z,{size:16,children:(0,u.jsx)(j.Z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u767B\u5F55\u65E5\u5FD7?",onConfirm:(0,h.Z)(a().mark(function d(){var n,f;return a().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Q(q);case 2:P([]),(n=s.current)===null||n===void 0||(f=n.reloadAndRest)===null||f===void 0||f.call(n);case 4:case"end":return v.stop()}},d)})),onCancel:function(){},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,u.jsx)(A.Z,{children:"\u6279\u91CF\u5220\u9664"})})})}}),(0,u.jsx)(y.Z,{width:600,visible:o,onClose:function(){x(void 0),r(!1)},closable:!1,children:(c==null?void 0:c.userName)&&(0,u.jsx)(G.Z,{column:2,title:c==null?void 0:c.userName,request:(0,h.Z)(a().mark(function p(){return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{data:c||{}});case 1:case"end":return n.stop()}},p)})),params:{id:c==null?void 0:c.infoId},columns:F})})]})},X=V}}]);
