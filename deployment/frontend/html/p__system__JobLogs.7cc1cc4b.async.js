(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[252],{16894:function(w,g,e){"use strict";var C=e(7381),l=e(34590);g.ZP=l.Z},16190:function(w,g,e){"use strict";e.d(g,{X:function(){return o}});var C=e(2824),l=e(67294),O=e(68698),o=function(R){var T=(0,l.useState)([]),L=(0,C.Z)(T,2),m=L[0],A=L[1],E=(0,l.useCallback)(function(){return(0,O.ii)(R).then(function(f){A(f.data)})},[R]);(0,l.useEffect)(function(){E()},[]);var P=m.map(function(f){return{label:f.dictLabel,value:f.dictValue}});return P}},62815:function(w,g,e){"use strict";e.r(g),e.d(g,{default:function(){return te}});var C=e(57338),l=e(25084),O=e(62350),o=e(75443),_=e(57663),R=e(71577),T=e(49111),L=e(19650),m=e(8870),A=e(71153),E=e(60331),P=e(2824),f=e(86582),K=e(34792),S=e(48086),r=e(3182),c=e(94043),a=e.n(c),t=e(67294),I=e(80853),z=e(16894),X=e(96459),V=e(16190),J=e(55168);function H(b,h){return B.apply(this,arguments)}function B(){return B=(0,r.Z)(a().mark(function b(h,y){return a().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,J.WY)("/api/monitor/jobLog/list",(0,m.Z)({method:"GET",params:(0,m.Z)({},h)},y)));case 1:case"end":return j.stop()}},b)})),B.apply(this,arguments)}function Q(b){return W.apply(this,arguments)}function W(){return W=(0,r.Z)(a().mark(function b(h){return a().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,J.WY)("/api/monitor/jobLog/".concat(h),{method:"DELETE"}));case 1:case"end":return d.stop()}},b)})),W.apply(this,arguments)}var k=e(32773),i=e(85893),q=function(){var b=(0,r.Z)(a().mark(function h(y){var d;return a().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(d=S.default.loading("\u6B63\u5728\u5220\u9664"),y){u.next=3;break}return u.abrupt("return",!0);case 3:return u.prev=3,u.next=6,Q((0,f.Z)(y.map(function(U){return U.jobLogId})));case 6:return d(),S.default.success("\u5220\u9664\u6210\u529F\uFF01"),u.abrupt("return",!0);case 11:return u.prev=11,u.t0=u.catch(3),d(),S.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01"),u.abrupt("return",!1);case 16:case"end":return u.stop()}},h,null,[[3,11]])}));return function(y){return b.apply(this,arguments)}}(),ee=function(){var h=(0,t.useState)(!1),y=(0,P.Z)(h,2),d=y[0],j=y[1],u=(0,t.useRef)(),U=(0,t.useState)(),x=(0,P.Z)(U,2),v=x[0],F=x[1],re=(0,t.useState)([]),G=(0,P.Z)(re,2),ne=G[0],Y=G[1],ae=(0,V.X)("sys_job_group"),N=[{title:"\u65E5\u5FD7\u7F16\u53F7",dataIndex:"jobLogId",hideInSearch:!0,render:function(s,n){return(0,i.jsx)("a",{onClick:function(){F(n),j(!0)},children:s})}},{title:"\u4EFB\u52A1\u540D\u79F0",dataIndex:"jobName"},{title:"\u4EFB\u52A1\u7EC4\u540D",dataIndex:"jobGroup",valueEnum:function(){var s={};return ae.forEach(function(n){s[n.value]={text:n.label,status:"Success"}}),s}},{title:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",dataIndex:"invokeTarget",hideInSearch:!0},{title:"\u65E5\u5FD7\u4FE1\u606F",dataIndex:"jobMessage",hideInSearch:!0},{title:"\u6267\u884C\u72B6\u6001",dataIndex:"status",hideInForm:!0,key:"status",valueEnum:{"0":{text:(0,i.jsx)(E.Z,{color:"green",children:"\u6210\u529F"}),status:"Default"},"1":{text:(0,i.jsx)(E.Z,{color:"red",children:"\u5931\u8D25"}),status:"Processing"}}},{title:"\u6267\u884C\u65F6\u95F4",dataIndex:"createTime",hideInSearch:!0}];return(0,i.jsxs)(I.ZP,{children:[(0,i.jsx)(z.ZP,{headerTitle:"\u5B9A\u65F6\u4EFB\u52A1\u65E5\u5FD7\u5217\u8868",actionRef:u,rowKey:"jobLogId",search:{labelWidth:120},request:function(){var D=(0,r.Z)(a().mark(function s(n){var p,$,Z;return a().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return p=k.m8.location.query,$=p.jobName,Z=p.jobGroup,M.next=3,H((0,m.Z)((0,m.Z)({},n),{},{jobName:$,jobGroup:Z}));case 3:return M.abrupt("return",M.sent);case 4:case"end":return M.stop()}},s)}));return function(s){return D.apply(this,arguments)}}(),columns:N,rowSelection:{onChange:function(s,n){Y(n)}},tableAlertRender:function(s){var n=s.selectedRowKeys,p=s.onCleanSelected;return(0,i.jsx)(L.Z,{size:24,children:(0,i.jsxs)("span",{children:["\u5DF2\u9009 ",n.length," \u9879",(0,i.jsx)("a",{style:{marginLeft:8},onClick:p,children:"\u53D6\u6D88\u9009\u62E9"})]})})},tableAlertOptionRender:function(){return(0,i.jsx)(L.Z,{size:16,children:(0,i.jsx)(o.Z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u5B9A\u65F6\u4EFB\u52A1\u65E5\u5FD7?",onConfirm:(0,r.Z)(a().mark(function s(){var n,p;return a().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,q(ne);case 2:Y([]),(n=u.current)===null||n===void 0||(p=n.reloadAndRest)===null||p===void 0||p.call(n);case 4:case"end":return Z.stop()}},s)})),onCancel:function(){},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,i.jsx)(R.Z,{children:"\u6279\u91CF\u5220\u9664"})})})}}),(0,i.jsx)(l.Z,{width:600,visible:d,onClose:function(){F(void 0),j(!1)},closable:!1,children:(v==null?void 0:v.jobName)&&(0,i.jsx)(X.Z,{column:2,title:v==null?void 0:v.jobName,request:(0,r.Z)(a().mark(function D(){return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{data:v||{}});case 1:case"end":return n.stop()}},D)})),params:{id:v==null?void 0:v.jobLogId},columns:N})})]})},te=ee},68698:function(w,g,e){"use strict";e.d(g,{XV:function(){return R},ii:function(){return L},zu:function(){return A},uD:function(){return P},Rv:function(){return K}});var C=e(8870),l=e(3182),O=e(94043),o=e.n(O),_=e(55168);function R(r,c){return T.apply(this,arguments)}function T(){return T=(0,l.Z)(o().mark(function r(c,a){return o().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",(0,_.WY)("/api/system/dict/data/list",(0,C.Z)({method:"GET",params:(0,C.Z)({},c)},a)));case 1:case"end":return I.stop()}},r)})),T.apply(this,arguments)}function L(r){return m.apply(this,arguments)}function m(){return m=(0,l.Z)(o().mark(function r(c){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.WY)("/api/system/dict/data/type/".concat(c),{method:"GET"}));case 1:case"end":return t.stop()}},r)})),m.apply(this,arguments)}function A(r){return E.apply(this,arguments)}function E(){return E=(0,l.Z)(o().mark(function r(c){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.WY)("/api/dict/data",{method:"POST",data:c}));case 1:case"end":return t.stop()}},r)})),E.apply(this,arguments)}function P(r){return f.apply(this,arguments)}function f(){return f=(0,l.Z)(o().mark(function r(c){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.WY)("/api/dict/data",{method:"PUT",data:c}));case 1:case"end":return t.stop()}},r)})),f.apply(this,arguments)}function K(r){return S.apply(this,arguments)}function S(){return S=(0,l.Z)(o().mark(function r(c){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.WY)("/api/dict/data/".concat(c),{method:"DELETE"}));case 1:case"end":return t.stop()}},r)})),S.apply(this,arguments)}}}]);
