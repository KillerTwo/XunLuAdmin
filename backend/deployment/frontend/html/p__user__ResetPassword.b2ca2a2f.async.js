(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[575],{16434:function(N,B,e){"use strict";var L=e(9715),U=e(22712),R=e(57663),F=e(71577),v=e(47673),l=e(4107),f=e(22122),I=e(28991),m=e(87757),p=e.n(m),D=e(92137),_=e(81253),o=e(28481),n=e(67294),C=e(64893),P=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],K=n.forwardRef(function(i,S){var g=(0,n.useState)(i.countDown||60),a=(0,o.Z)(g,2),w=a[0],z=a[1],A=(0,n.useState)(!1),E=(0,o.Z)(A,2),h=E[0],x=E[1],y=(0,n.useState)(),j=(0,o.Z)(y,2),V=j[0],$=j[1],Q=i.rules,X=i.name,Z=i.phoneName,W=i.fieldProps,J=i.captchaTextRender,Y=J===void 0?function(d,M){return d?"".concat(M," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:J,H=i.captchaProps,b=(0,_.Z)(i,P),G=function(){var d=(0,D.Z)(p().mark(function M(T){return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,$(!0),r.next=4,b.onGetCaptcha(T);case 4:$(!1),x(!0),r.next=13;break;case 8:r.prev=8,r.t0=r.catch(0),x(!1),$(!1),console.log(r.t0);case 13:case"end":return r.stop()}},M,null,[[0,8]])}));return function(T){return d.apply(this,arguments)}}();return(0,n.useEffect)(function(){var d=0,M=i.countDown;return h&&(d=window.setInterval(function(){z(function(T){return T<=1?(x(!1),clearInterval(d),M||60):T-1})},1e3)),function(){return clearInterval(d)}},[h]),n.createElement(U.Z.Item,{noStyle:!0,shouldUpdate:!0},function(d){var M=d.getFieldValue,T=d.validateFields;return n.createElement("div",{style:(0,I.Z)((0,I.Z)({},W==null?void 0:W.style),{},{display:"flex",alignItems:"center"}),ref:S},n.createElement(l.Z,(0,f.Z)({},W,{style:{flex:1,transition:"width .3s",marginRight:8}})),n.createElement(F.Z,(0,f.Z)({style:{display:"block"},disabled:h,loading:V},H,{onClick:(0,D.Z)(p().mark(function c(){var r;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Z){t.next=9;break}return t.next=4,T([Z].flat(1));case 4:return r=M([Z].flat(1)),t.next=7,G(r);case 7:t.next=11;break;case 9:return t.next=11,G("");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}},c,null,[[0,13]])}))}),Y(h,w)))})});B.Z=(0,C.G)(K)},5966:function(N,B,e){"use strict";var L=e(22122),U=e(81253),R=e(67294),F=e(97676),v=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],f="text",I=function(_){var o=_.fieldProps,n=_.proFieldProps,C=(0,U.Z)(_,v);return R.createElement(F.Z,(0,L.Z)({mode:"edit",valueType:f,fieldProps:o,filedConfig:{valueType:f},proFieldProps:n},C))},m=function(_){var o=_.fieldProps,n=_.proFieldProps,C=(0,U.Z)(_,l);return R.createElement(F.Z,(0,L.Z)({mode:"edit",valueType:"password",fieldProps:o,proFieldProps:n,filedConfig:{valueType:f}},C))},p=I;p.Password=m,p.displayName="ProFormComponent",B.Z=p},43504:function(N,B,e){"use strict";e.d(B,{U:function(){return _}});var L=e(22122),U=e(84305),R=e(75901),F=e(28991),v=e(81253),l=e(67294),f=e(5894),I=e(7381),m=e(32384),p=e.n(m),D=["logo","message","title","subTitle","actions","children"];function _(o){var n=o.logo,C=o.message,P=o.title,K=o.subTitle,i=o.actions,S=o.children,g=(0,v.Z)(o,D),a=(0,I.YB)(),w=(0,F.Z)({searchConfig:{submitText:a.getMessage("loginForm.submitText","\u767B\u5F55")},render:function(y,j){return j.pop()},submitButtonProps:{size:"large",style:{width:"100%"}}},g.submitter),z=(0,l.useContext)(R.ZP.ConfigContext),A=z.getPrefixCls("pro-form-login"),E=function(y){return"".concat(A,"-").concat(y)},h=(0,l.useMemo)(function(){return n?typeof n=="string"?l.createElement("img",{src:n}):n:null},[n]);return l.createElement("div",{className:E("container")},l.createElement("div",{className:E("top")},P||h?l.createElement("div",{className:E("header")},h?l.createElement("span",{className:E("logo")},h):null,P?l.createElement("span",{className:E("title")},P):null):null,K?l.createElement("div",{className:E("desc")},K):null),l.createElement("div",{className:E("main")},l.createElement(f.A,(0,L.Z)({isKeyPressSubmit:!0},g,{submitter:w}),C,S),i?l.createElement("div",{className:E("other")},i):null))}},22237:function(N){N.exports={container:"container___1WNud",lang:"lang___2BKOy",content:"content___272Yb",icon:"icon___UlCdH"}},32384:function(){},22491:function(N,B,e){"use strict";e.r(B);var L=e(57663),U=e(71577),R=e(8870),F=e(34792),v=e(48086),l=e(3182),f=e(2824),I=e(94043),m=e.n(I),p=e(80521),D=e(2603),_=e(67294),o=e(43504),n=e(5966),C=e(16434),P=e(32773),K=e(29791),i=e(82566),S=e(22237),g=e.n(S),a=e(85893),w=function(){var A=(0,_.useRef)(),E=(0,_.useState)(!0),h=(0,f.Z)(E,2),x=h[0],y=h[1],j=(0,_.useState)(""),V=(0,f.Z)(j,2),$=V[0],Q=V[1],X=(0,_.useState)(""),Z=(0,f.Z)(X,2),W=Z[0],J=Z[1],Y=(0,_.useState)(""),H=(0,f.Z)(Y,2),b=H[0],G=H[1],d=(0,P.YB)(),M=function(){var c=(0,l.Z)(m().mark(function r(){var u,t;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,i.Pb)();case 2:u=s.sent,u.code===200&&(t=u.data,t.captchaOnOff?(Q("data:image/gif;base64,".concat(t.img)),J(t.uuid)):y(t.captchaOnOff));case 4:case"end":return s.stop()}},r)}));return function(){return c.apply(this,arguments)}}();(0,_.useEffect)(function(){M()},[]);var T=function(){var c=(0,l.Z)(m().mark(function r(u){var t;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(b){s.next=3;break}return v.default.error("\u8BF7\u586B\u5199\u9A8C\u8BC1\u7801"),s.abrupt("return");case 3:return s.prev=3,s.next=6,(0,i.c0)((0,R.Z)((0,R.Z)({},u),{},{code:b,uuid:W}));case 6:if(t=s.sent,t.code!==200){s.next=11;break}return v.default.success("\u91CD\u7F6E\u5BC6\u7801\u6210\u529F"),P.m8.push("/user/login"),s.abrupt("return");case 11:s.next=16;break;case 13:s.prev=13,s.t0=s.catch(3),v.default.error("\u91CD\u7F6E\u5BC6\u7801\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 16:case"end":return s.stop()}},r,null,[[3,13]])}));return function(u){return c.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:g().container,children:[(0,a.jsx)("div",{className:g().content,children:(0,a.jsxs)(o.U,{formRef:A,logo:(0,a.jsx)("img",{alt:"logo",style:{borderRadius:30},src:"/logo1.jpg"}),title:"\u5BFB \u8DEF",subTitle:d.formatMessage({id:"pages.layouts.userLayout.title"}),submitter:{render:function(){return(0,a.jsx)(U.Z,{type:"primary",style:{width:"328px"},size:"large",onClick:(0,l.Z)(m().mark(function r(){var u;return m().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,T((u=A.current)===null||u===void 0?void 0:u.getFieldsValue());case 2:case"end":return O.stop()}},r)})),children:"\u63D0\u4EA4"})}},children:[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z,{fieldProps:{size:"large",prefix:(0,a.jsx)(p.Z,{className:g().prefixIcon})},name:"phone",placeholder:d.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:(0,a.jsx)(P._H,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:(0,a.jsx)(P._H,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),(0,a.jsx)(C.Z,{fieldProps:{size:"large",prefix:(0,a.jsx)(D.Z,{className:g().prefixIcon})},captchaProps:{size:"large"},placeholder:d.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(r,u){return r?"".concat(u," ").concat(d.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):d.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:(0,a.jsx)(P._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:(0,l.Z)(m().mark(function c(){var r,u,t;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(u=((r=A.current)===null||r===void 0?void 0:r.getFieldsValue().phone)||"",u){s.next=4;break}throw v.default.error("\u8BF7\u586B\u5199\u624B\u673A\u53F7\uFF01"),new Error("\u8BF7\u586B\u5199\u624B\u673A\u53F7\uFF01");case 4:if(b){s.next=7;break}throw v.default.error("\u8BF7\u586B\u5199\u9A8C\u8BC1\u7801\uFF01"),new Error("\u8BF7\u586B\u5199\u9A8C\u8BC1\u7801\uFF01");case 7:return s.next=9,(0,i.mJ)({phone:u,uuid:W,code:b});case 9:if(t=s.sent,t.code!==200){s.next=15;break}return v.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A".concat(t.data)),s.abrupt("return");case 15:throw new Error(t.msg);case 16:case"end":return s.stop()}},c)}))})]}),x&&(0,a.jsx)("div",{className:"ant-row ant-form-item",style:{rowGap:"0px"},children:(0,a.jsx)("div",{className:"ant-col ant-form-item-control",children:(0,a.jsx)("div",{className:"ant-form-item-control-input",children:(0,a.jsx)("div",{className:"ant-form-item-control-input-content",children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsxs)("span",{className:"ant-input-affix-wrapper ant-input-affix-wrapper-lg",style:{flex:"1 1 0%",transition:" width 0.3s ease 0s",marginRight:"8px"},children:[(0,a.jsx)("span",{className:"ant-input-prefix"}),(0,a.jsx)("input",{id:"captcha",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01",onChange:function(r){G(r.target.value)},className:"ant-input",type:"text",value:b})]}),(0,a.jsx)("img",{src:$,style:{width:"100px",height:"40.14px",cursor:"pointer"},onClick:M})]})})})})}),(0,a.jsx)(n.Z.Password,{fieldProps:{size:"large",prefix:(0,a.jsx)(D.Z,{className:g().prefixIcon})},name:"password",placeholder:"\u65B0\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801"}]}),(0,a.jsx)(n.Z.Password,{fieldProps:{size:"large",prefix:(0,a.jsx)(D.Z,{className:g().prefixIcon})},name:"rePassword",placeholder:"\u9A8C\u8BC1\u5BC6\u7801",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u5BC6\u7801"},function(c){var r=c.getFieldValue;return{validator:function(t,O){return!O||r("password")===O?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!"))}}}]}),(0,a.jsxs)("div",{style:{marginBottom:24},children:[(0,a.jsx)("a",{style:{float:"left"},onClick:function(){var r;G(""),(r=A.current)===null||r===void 0||r.resetFields()},children:"\u91CD\u7F6E"}),(0,a.jsx)("a",{style:{float:"right"},onClick:function(){P.m8.push("/user/login")},children:"\u53BB\u767B\u5F55"})]})]})}),(0,a.jsx)(K.Z,{})]})};B.default=w}}]);
