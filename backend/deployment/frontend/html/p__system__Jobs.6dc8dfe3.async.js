(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[628],{86615:function(K,j,e){"use strict";var O=e(88983),c=e(47933),B=e(22122),d=e(28991),g=e(81253),b=e(67294),C=e(97676),T=e(22270),S=e(64893),M=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],D=b.forwardRef(function(r,n){var E=r.fieldProps,a=r.options,i=r.radioType,R=r.layout,L=r.proFieldProps,I=r.valueEnum,W=(0,g.Z)(r,M);return b.createElement(C.Z,(0,B.Z)({mode:"edit",valueType:i==="button"?"radioButton":"radio",ref:n,valueEnum:(0,T.h)(I,void 0)},W,{fieldProps:(0,d.Z)({options:a,layout:R},E),proFieldProps:L,filedConfig:{customLightMode:!0}}))}),y=b.forwardRef(function(r,n){var E=r.fieldProps,a=r.children;return b.createElement(c.ZP,(0,B.Z)({},E,{ref:n}),a)}),p=(0,S.G)(y,{valuePropName:"checked",ignoreWidth:!0}),Z=p;Z.Group=D,Z.Button=c.ZP.Button,Z.displayName="ProFormComponent",j.Z=Z},64317:function(K,j,e){"use strict";var O=e(22122),c=e(28991),B=e(81253),d=e(67294),g=e(97676),b=e(22270),C=e(66758),T=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],S=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],M=d.forwardRef(function(r,n){var E=r.fieldProps,a=r.children,i=r.params,R=r.proFieldProps,L=r.mode,I=r.valueEnum,W=r.request,w=r.showSearch,Y=r.options,X=(0,B.Z)(r,T),$=(0,d.useContext)(C.Z);return d.createElement(g.Z,(0,O.Z)({mode:"edit",valueEnum:(0,b.h)(I),request:W,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,c.Z)({options:Y,mode:L,showSearch:w,getPopupContainer:$.getPopupContainer},E),ref:n,proFieldProps:R},X),a)}),D=d.forwardRef(function(r,n){var E=r.fieldProps,a=r.children,i=r.params,R=r.proFieldProps,L=r.mode,I=r.valueEnum,W=r.request,w=r.options,Y=(0,B.Z)(r,S),X=(0,c.Z)({options:w,mode:L||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},E),$=(0,d.useContext)(C.Z);return d.createElement(g.Z,(0,O.Z)({mode:"edit",valueEnum:(0,b.h)(I),request:W,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,c.Z)({getPopupContainer:$.getPopupContainer},X),ref:n,proFieldProps:R},Y),a)}),y=M,p=D,Z=y;Z.SearchSelect=p,Z.displayName="ProFormComponent",j.Z=Z},5966:function(K,j,e){"use strict";var O=e(22122),c=e(81253),B=e(67294),d=e(97676),g=["fieldProps","proFieldProps"],b=["fieldProps","proFieldProps"],C="text",T=function(y){var p=y.fieldProps,Z=y.proFieldProps,r=(0,c.Z)(y,g);return B.createElement(d.Z,(0,O.Z)({mode:"edit",valueType:C,fieldProps:p,filedConfig:{valueType:C},proFieldProps:Z},r))},S=function(y){var p=y.fieldProps,Z=y.proFieldProps,r=(0,c.Z)(y,b);return B.createElement(d.Z,(0,O.Z)({mode:"edit",valueType:"password",fieldProps:p,proFieldProps:Z,filedConfig:{valueType:C}},r))},M=T;M.Password=S,M.displayName="ProFormComponent",j.Z=M},16894:function(K,j,e){"use strict";var O=e(7381),c=e(34590);j.ZP=c.Z},16190:function(K,j,e){"use strict";e.d(j,{X:function(){return d}});var O=e(2824),c=e(67294),B=e(68698),d=function(b){var C=(0,c.useState)([]),T=(0,O.Z)(C,2),S=T[0],M=T[1],D=(0,c.useCallback)(function(){return(0,B.ii)(b).then(function(p){M(p.data)})},[b]);(0,c.useEffect)(function(){D()},[]);var y=S.map(function(p){return{label:p.dictLabel,value:p.dictValue}});return y}},89390:function(K,j,e){"use strict";e.r(j),e.d(j,{default:function(){return Te}});var O=e(57338),c=e(25084),B=e(49111),d=e(19650),g=e(57663),b=e(71577),C=e(62350),T=e(75443),S=e(71153),M=e(60331),D=e(2824),y=e(86582),p=e(8870),Z=e(34792),r=e(48086),n=e(3182),E=e(94043),a=e.n(E),i=e(8212),R=e(73171),L=e(29934),I=e(33108),W=e(49101),w=e(67294),Y=e(80853),X=e(16894),$=e(37476),G=e(5966),ne=e(64317),J=e(86615),fe=e(96459),ue=e(16190),t=e(85893),he=function(s){var f=(0,ue.X)("sys_job_group");return(0,t.jsxs)($.Y,{title:"\u4FEE\u6539\u5B57\u5178\u7C7B\u578B",width:"600px",visible:s.updateModalVisible,onVisibleChange:s.onCancel,onFinish:s.onSubmit,children:[(0,t.jsx)(G.Z,{initialValue:s.values.jobName,rules:[{required:!0,message:"\u4EFB\u52A1\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],width:"md",name:"jobName",label:"\u4EFB\u52A1\u540D\u79F0"}),(0,t.jsx)(ne.Z,{initialValue:s.values.jobGroup,width:"md",name:"jobGroup",label:"\u4EFB\u52A1\u5206\u7EC4",options:f}),(0,t.jsx)(G.Z,{initialValue:s.values.invokeTarget,rules:[{required:!0,message:"\u8C03\u7528\u65B9\u6CD5\u4E0D\u80FD\u4E3A\u7A7A"}],width:"md",name:"invokeTarget",label:"\u8C03\u7528\u65B9\u6CD5"}),(0,t.jsx)(G.Z,{initialValue:s.values.cronExpression,rules:[{required:!0,message:"cron\u6267\u884C\u8868\u8FBE\u5F0F\u4E0D\u80FD\u4E3A\u7A7A"}],width:"md",name:"cronExpression",label:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),(0,t.jsx)(J.Z.Group,{initialValue:s.values.misfirePolicy,name:"misfirePolicy",label:"\u6267\u884C\u7B56\u7565",radioType:"button",options:[{label:"\u7ACB\u5373\u6267\u884C",value:"1"},{label:"\u6267\u884C\u4E00\u6B21",value:"2"},{label:"\u653E\u5F03\u6267\u884C",value:"3"}]}),(0,t.jsx)(J.Z.Group,{initialValue:s.values.concurrent,name:"concurrent",label:"\u662F\u5426\u5E76\u53D1",radioType:"button",options:[{label:"\u5141\u8BB8",value:"0"},{label:"\u7981\u6B62",value:"1"}]}),(0,t.jsx)(J.Z.Group,{initialValue:s.values.status,width:"md",name:"status",label:"\u72B6\u6001",options:[{label:"\u6B63\u5E38",value:"0"},{label:"\u505C\u7528",value:"1"}]})]})},Ee=he,z=e(55168);function Pe(m,s){return k.apply(this,arguments)}function k(){return k=(0,n.Z)(a().mark(function m(s,f){return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,z.WY)("/api/monitor/job/list",(0,p.Z)({method:"GET",params:(0,p.Z)({},s)},f)));case 1:case"end":return _.stop()}},m)})),k.apply(this,arguments)}function be(m){return q.apply(this,arguments)}function q(){return q=(0,n.Z)(a().mark(function m(s){return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,z.WY)("/api/monitor/job",{method:"POST",data:s}));case 1:case"end":return l.stop()}},m)})),q.apply(this,arguments)}function De(m){return ee.apply(this,arguments)}function ee(){return ee=(0,n.Z)(a().mark(function m(s){return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,z.WY)("/api/monitor/job",{method:"PUT",data:s}));case 1:case"end":return l.stop()}},m)})),ee.apply(this,arguments)}function ye(m){return re.apply(this,arguments)}function re(){return re=(0,n.Z)(a().mark(function m(s){return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,z.WY)("/api/monitor/job/".concat(s),{method:"DELETE"}));case 1:case"end":return l.stop()}},m)})),re.apply(this,arguments)}function _e(m,s){return ae.apply(this,arguments)}function ae(){return ae=(0,n.Z)(a().mark(function m(s,f){return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,z.WY)("/api/monitor/job/run",{method:"PUT",data:{jobId:s,jobGroup:f}}));case 1:case"end":return _.stop()}},m)})),ae.apply(this,arguments)}var Ce=e(32773),Ze=function(){var m=(0,n.Z)(a().mark(function s(f){var l;return a().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return l=r.default.loading("\u6B63\u5728\u6DFB\u52A0"),u.prev=1,u.next=4,be((0,p.Z)({},f));case 4:return l(),r.default.success("\u6DFB\u52A0\u6210\u529F\uFF01"),u.abrupt("return",!0);case 9:return u.prev=9,u.t0=u.catch(1),l(),r.default.error("\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5!"),u.abrupt("return",!1);case 14:case"end":return u.stop()}},s,null,[[1,9]])}));return function(f){return m.apply(this,arguments)}}(),je=function(){var m=(0,n.Z)(a().mark(function s(f){var l;return a().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return l=r.default.loading("\u4FEE\u6539\u4E2D"),u.prev=1,u.next=4,De((0,p.Z)({},f));case 4:return l(),r.default.success("\u4FEE\u6539\u6210\u529F\uFF01"),u.abrupt("return",!0);case 9:return u.prev=9,u.t0=u.catch(1),l(),r.default.error("\u4FEE\u6539\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5!"),u.abrupt("return",!1);case 14:case"end":return u.stop()}},s,null,[[1,9]])}));return function(f){return m.apply(this,arguments)}}(),se=function(){var m=(0,n.Z)(a().mark(function s(f){var l;return a().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(l=r.default.loading("\u6B63\u5728\u5220\u9664"),f){u.next=3;break}return u.abrupt("return",!0);case 3:return u.prev=3,u.next=6,ye((0,y.Z)(f.map(function(H){return H.jobId})));case 6:return l(),r.default.success("\u5220\u9664\u6210\u529F\uFF01"),u.abrupt("return",!0);case 11:return u.prev=11,u.t0=u.catch(3),l(),r.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01"),u.abrupt("return",!1);case 16:case"end":return u.stop()}},s,null,[[3,11]])}));return function(f){return m.apply(this,arguments)}}(),ge=function(){var s=(0,w.useState)(!1),f=(0,D.Z)(s,2),l=f[0],_=f[1],u=(0,w.useState)(!1),H=(0,D.Z)(u,2),Me=H[0],te=H[1],Fe=(0,w.useState)(!1),le=(0,D.Z)(Fe,2),oe=le[0],ie=le[1],U=(0,w.useRef)(),Oe=(0,w.useState)(),de=(0,D.Z)(Oe,2),A=de[0],V=de[1],Be=(0,w.useState)([]),ce=(0,D.Z)(Be,2),Se=ce[0],pe=ce[1],me=(0,ue.X)("sys_job_group"),ve=[{title:"\u4EFB\u52A1\u7F16\u53F7",dataIndex:"jobId",hideInSearch:!0,render:function(v,o){return(0,t.jsx)("a",{onClick:function(){V(o),ie(!0)},children:v})}},{title:"\u4EFB\u52A1\u540D\u79F0",dataIndex:"jobName"},{title:"\u4EFB\u52A1\u7EC4\u540D",dataIndex:"jobGroup",valueEnum:function(){var v={};return me.forEach(function(o){v[o.value]={text:o.label,status:"Success"}}),v}},{title:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",dataIndex:"invokeTarget",hideInSearch:!0},{title:"cron\u6267\u884C\u8868\u8FBE\u5F0F",dataIndex:"cronExpression",hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,key:"status",valueEnum:{"0":{text:(0,t.jsx)(M.Z,{color:"green",children:"\u6B63\u5E38"}),status:"Default"},"1":{text:(0,t.jsx)(M.Z,{color:"red",children:"\u505C\u7528"}),status:"Processing"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",key:"option",render:function(v,o){return[(0,t.jsxs)("a",{onClick:function(){te(!0),V(o)},children:[(0,t.jsx)(i.Z,{}),"\u4FEE\u6539"]},"config"),(0,t.jsx)(T.Z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u5B9A\u65F6\u4EFB\u52A1?",onConfirm:(0,n.Z)(a().mark(function P(){var x,h;return a().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,se([o]);case 2:(x=U.current)===null||x===void 0||(h=x.reloadAndRest)===null||h===void 0||h.call(x);case 3:case"end":return Q.stop()}},P)})),onCancel:function(){},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,t.jsxs)("a",{children:[(0,t.jsx)(R.Z,{}),"\u5220\u9664"]})}),(0,t.jsxs)(T.Z,{title:"\u786E\u5B9A\u8981\u6267\u884C\u5B9A\u65F6\u4EFB\u52A1?",onConfirm:(0,n.Z)(a().mark(function P(){var x;return a().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,_e(o.jobId||0,o.jobGroup||"");case 2:x=N.sent,x.code===200&&r.default.success("\u6267\u884C\u6210\u529F\uFF01");case 4:case"end":return N.stop()}},P)})),onCancel:function(){},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:[(0,t.jsxs)("a",{children:[(0,t.jsx)(L.Z,{}),"\u6267\u884C\u4E00\u6B21"]},"runJob"),","]}),(0,t.jsxs)("a",{onClick:function(){V(o),Ce.m8.push({pathname:"/system/sysJobLog",query:{jobName:o.jobName||"",jobGroup:o.jobGroup||""}})},children:[(0,t.jsx)(I.Z,{}),"\u8C03\u5EA6\u65E5\u5FD7"]},"logs")]}}];return(0,t.jsxs)(Y.ZP,{children:[(0,t.jsx)(X.ZP,{headerTitle:"\u5B9A\u65F6\u4EFB\u52A1\u5217\u8868",actionRef:U,rowKey:"jobId",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsxs)(b.Z,{type:"primary",onClick:function(){_(!0)},children:[(0,t.jsx)(W.Z,{})," \u65B0\u589E"]},"primary")]},request:Pe,columns:ve,rowSelection:{onChange:function(v,o){pe(o)}},tableAlertRender:function(v){var o=v.selectedRowKeys,P=v.onCleanSelected;return(0,t.jsx)(d.Z,{size:24,children:(0,t.jsxs)("span",{children:["\u5DF2\u9009 ",o.length," \u9879",(0,t.jsx)("a",{style:{marginLeft:8},onClick:P,children:"\u53D6\u6D88\u9009\u62E9"})]})})},tableAlertOptionRender:function(){return(0,t.jsx)(d.Z,{size:16,children:(0,t.jsx)(T.Z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u5B9A\u65F6\u4EFB\u52A1?",onConfirm:(0,n.Z)(a().mark(function v(){var o,P;return a().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,se(Se);case 2:pe([]),(o=U.current)===null||o===void 0||(P=o.reloadAndRest)===null||P===void 0||P.call(o);case 4:case"end":return h.stop()}},v)})),onCancel:function(){},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,t.jsx)(b.Z,{children:"\u6279\u91CF\u5220\u9664"})})})}}),(0,t.jsxs)($.Y,{title:"\u65B0\u589E\u5B9A\u65F6\u4EFB\u52A1",width:"600px",visible:l,onVisibleChange:_,onFinish:function(){var F=(0,n.Z)(a().mark(function v(o){var P;return a().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Ze(o);case 2:P=h.sent,P&&(_(!1),U.current&&U.current.reload());case 4:case"end":return h.stop()}},v)}));return function(v){return F.apply(this,arguments)}}(),children:[(0,t.jsx)(G.Z,{rules:[{required:!0,message:"\u4EFB\u52A1\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],width:"md",name:"jobName",label:"\u4EFB\u52A1\u540D\u79F0"}),(0,t.jsx)(ne.Z,{width:"md",name:"jobGroup",label:"\u4EFB\u52A1\u5206\u7EC4",options:me}),(0,t.jsx)(G.Z,{rules:[{required:!0,message:"\u8C03\u7528\u65B9\u6CD5\u4E0D\u80FD\u4E3A\u7A7A"}],width:"md",name:"invokeTarget",label:"\u8C03\u7528\u65B9\u6CD5"}),(0,t.jsx)(G.Z,{rules:[{required:!0,message:"cron\u6267\u884C\u8868\u8FBE\u5F0F\u4E0D\u80FD\u4E3A\u7A7A"}],width:"md",name:"cronExpression",label:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),(0,t.jsx)(J.Z.Group,{name:"misfirePolicy",label:"\u6267\u884C\u7B56\u7565",radioType:"button",options:[{label:"\u7ACB\u5373\u6267\u884C",value:"1"},{label:"\u6267\u884C\u4E00\u6B21",value:"2"},{label:"\u653E\u5F03\u6267\u884C",value:"3"}]}),(0,t.jsx)(J.Z.Group,{name:"concurrent",label:"\u662F\u5426\u5E76\u53D1",radioType:"button",options:[{label:"\u5141\u8BB8",value:"0"},{label:"\u7981\u6B62",value:"1"}]}),(0,t.jsx)(J.Z.Group,{width:"md",initialValue:"0",name:"status",label:"\u72B6\u6001",options:[{label:"\u6B63\u5E38",value:"0"},{label:"\u505C\u7528",value:"1"}]})]}),(0,t.jsx)(Ee,{onSubmit:function(){var F=(0,n.Z)(a().mark(function v(o){var P;return a().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,je((0,p.Z)((0,p.Z)({},A),o));case 2:P=h.sent,P&&(te(!1),V(void 0),U.current&&U.current.reload());case 4:case"end":return h.stop()}},v)}));return function(v){return F.apply(this,arguments)}}(),onCancel:function(v){v||(te(!1),oe||V(void 0))},updateModalVisible:Me,values:A||{}}),(0,t.jsx)(c.Z,{width:600,visible:oe,onClose:function(){V(void 0),ie(!1)},closable:!1,children:(A==null?void 0:A.jobName)&&(0,t.jsx)(fe.Z,{column:2,title:A==null?void 0:A.jobName,request:(0,n.Z)(a().mark(function F(){return a().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:A||{}});case 1:case"end":return o.stop()}},F)})),params:{id:A==null?void 0:A.jobId},columns:ve})})]})},Te=ge},68698:function(K,j,e){"use strict";e.d(j,{XV:function(){return b},ii:function(){return T},zu:function(){return M},uD:function(){return y},Rv:function(){return Z}});var O=e(8870),c=e(3182),B=e(94043),d=e.n(B),g=e(55168);function b(n,E){return C.apply(this,arguments)}function C(){return C=(0,c.Z)(d().mark(function n(E,a){return d().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,g.WY)("/api/system/dict/data/list",(0,O.Z)({method:"GET",params:(0,O.Z)({},E)},a)));case 1:case"end":return R.stop()}},n)})),C.apply(this,arguments)}function T(n){return S.apply(this,arguments)}function S(){return S=(0,c.Z)(d().mark(function n(E){return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,g.WY)("/api/system/dict/data/type/".concat(E),{method:"GET"}));case 1:case"end":return i.stop()}},n)})),S.apply(this,arguments)}function M(n){return D.apply(this,arguments)}function D(){return D=(0,c.Z)(d().mark(function n(E){return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,g.WY)("/api/dict/data",{method:"POST",data:E}));case 1:case"end":return i.stop()}},n)})),D.apply(this,arguments)}function y(n){return p.apply(this,arguments)}function p(){return p=(0,c.Z)(d().mark(function n(E){return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,g.WY)("/api/dict/data",{method:"PUT",data:E}));case 1:case"end":return i.stop()}},n)})),p.apply(this,arguments)}function Z(n){return r.apply(this,arguments)}function r(){return r=(0,c.Z)(d().mark(function n(E){return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,g.WY)("/api/dict/data/".concat(E),{method:"DELETE"}));case 1:case"end":return i.stop()}},n)})),r.apply(this,arguments)}}}]);
