(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[778],{31199:function(B,O,e){"use strict";var _=e(22122),u=e(28991),R=e(81253),n=e(67294),f=e(97676),M=["fieldProps","min","proFieldProps","max"],Z=function(d,T){var v=d.fieldProps,c=d.min,C=d.proFieldProps,o=d.max,s=(0,R.Z)(d,M);return n.createElement(f.Z,(0,_.Z)({mode:"edit",valueType:"digit",fieldProps:(0,u.Z)({min:c,max:o},v),ref:T,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:C},s))};O.Z=n.forwardRef(Z)},86615:function(B,O,e){"use strict";var _=e(88983),u=e(47933),R=e(22122),n=e(28991),f=e(81253),M=e(67294),Z=e(97676),g=e(22270),d=e(64893),T=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],v=M.forwardRef(function(s,P){var r=s.fieldProps,i=s.options,t=s.radioType,D=s.layout,m=s.proFieldProps,I=s.valueEnum,F=(0,f.Z)(s,T);return M.createElement(Z.Z,(0,R.Z)({mode:"edit",valueType:t==="button"?"radioButton":"radio",ref:P,valueEnum:(0,g.h)(I,void 0)},F,{fieldProps:(0,n.Z)({options:i,layout:D},r),proFieldProps:m,filedConfig:{customLightMode:!0}}))}),c=M.forwardRef(function(s,P){var r=s.fieldProps,i=s.children;return M.createElement(u.ZP,(0,R.Z)({},r,{ref:P}),i)}),C=(0,d.G)(c,{valuePropName:"checked",ignoreWidth:!0}),o=C;o.Group=v,o.Button=u.ZP.Button,o.displayName="ProFormComponent",O.Z=o},5966:function(B,O,e){"use strict";var _=e(22122),u=e(81253),R=e(67294),n=e(97676),f=["fieldProps","proFieldProps"],M=["fieldProps","proFieldProps"],Z="text",g=function(c){var C=c.fieldProps,o=c.proFieldProps,s=(0,u.Z)(c,f);return R.createElement(n.Z,(0,_.Z)({mode:"edit",valueType:Z,fieldProps:C,filedConfig:{valueType:Z},proFieldProps:o},s))},d=function(c){var C=c.fieldProps,o=c.proFieldProps,s=(0,u.Z)(c,M);return R.createElement(n.Z,(0,_.Z)({mode:"edit",valueType:"password",fieldProps:C,proFieldProps:o,filedConfig:{valueType:Z}},s))},T=g;T.Password=d,T.displayName="ProFormComponent",O.Z=T},90672:function(B,O,e){"use strict";var _=e(22122),u=e(81253),R=e(67294),n=e(97676),f=["fieldProps","proFieldProps"],M=function(g,d){var T=g.fieldProps,v=g.proFieldProps,c=(0,u.Z)(g,f);return R.createElement(n.Z,(0,_.Z)({ref:d,mode:"edit",valueType:"textarea",fieldProps:T,proFieldProps:v},c))};O.Z=R.forwardRef(M)},19054:function(B,O,e){"use strict";var _=e(22122),u=e(81253),R=e(67294),n=e(97676),f=["fieldProps","request","params","proFieldProps"],M=function(d,T){var v=d.fieldProps,c=d.request,C=d.params,o=d.proFieldProps,s=(0,u.Z)(d,f);return R.createElement(n.Z,(0,_.Z)({mode:"edit",valueType:"treeSelect",fieldProps:v,ref:T,request:c,params:C,proFieldProps:o},s))},Z=R.forwardRef(M);O.Z=Z},16894:function(B,O,e){"use strict";var _=e(7381),u=e(34590);O.ZP=u.Z},33419:function(B,O,e){"use strict";e.r(O),e.d(O,{default:function(){return me}});var _=e(57338),u=e(25084),R=e(62999),n=e(54680),f=e(49111),M=e(19650),Z=e(57663),g=e(71577),d=e(71153),T=e(60331),v=e(2824),c=e(8870),C=e(34792),o=e(48086),s=e(3182),P=e(94043),r=e.n(P),i=e(49101),t=e(67294),D=e(80853),m=e(16894),I=e(37476),F=e(5894),Y=e(5966),z=e(31199),Q=e(86615),X=e(19054),k=e(90672),ue=e(96459),J=e(60327),a=e(85893),ie=function(j){var b=j.values;return(0,a.jsxs)(I.Y,{modalProps:{destroyOnClose:!0},title:"\u65B0\u589E\u89D2\u8272",width:"60%",visible:j.updateModalVisible,onVisibleChange:j.onCancel,onFinish:j.onSubmit,children:[(0,a.jsxs)(F.A.Group,{children:[(0,a.jsx)(Y.Z,{initialValue:b.roleName,rules:[{required:!0,message:"\u89D2\u8272\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],label:"\u89D2\u8272\u540D\u79F0",width:"md",name:"roleName"}),(0,a.jsx)(Y.Z,{initialValue:b.roleKey,rules:[{required:!0,message:"\u89D2\u8272\u6807\u8BC6\u4E0D\u80FD\u4E3A\u7A7A"}],label:"\u89D2\u8272\u6807\u8BC6",width:"md",name:"roleKey"})]}),(0,a.jsxs)(F.A.Group,{children:[(0,a.jsx)(z.Z,{width:"md",name:"roleSort",label:"\u89D2\u8272\u987A\u5E8F",initialValue:b.roleSort}),(0,a.jsx)(Q.Z.Group,{initialValue:b.status,width:"md",name:"status",label:"\u72B6\u6001",options:[{label:"\u6B63\u5E38",value:"0"},{label:"\u505C\u7528",value:"1"}]})]}),(0,a.jsx)(F.A.Group,{children:(0,a.jsx)(X.Z,{initialValue:b.menuIds,width:"md",label:"\u83DC\u5355\u6743\u9650",request:(0,s.Z)(r().mark(function w(){var S;return r().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,J.bE)();case 2:return S=L.sent,L.abrupt("return",S.data);case 4:case"end":return L.stop()}},w)})),fieldProps:{fieldNames:{label:"label",value:"id",children:"children"},showCheckedStrategy:n.Z.SHOW_ALL,treeCheckable:!0},name:"menuIds"})}),(0,a.jsx)(F.A.Group,{children:(0,a.jsx)(k.Z,{width:"md",label:"\u5907\u6CE8",name:"remark",initialValue:b.remark})})]})},oe=ie,N=e(96646),de=function(){var x=(0,s.Z)(r().mark(function j(b){var w;return r().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return w=o.default.loading("\u6B63\u5728\u6DFB\u52A0"),l.prev=1,l.next=4,(0,N._d)((0,c.Z)({},b));case 4:return w(),o.default.success("\u6DFB\u52A0\u6210\u529F"),l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(1),w(),o.default.error("\u6DFB\u52A0\u5931\u8D25, \u8BF7\u7A0D\u540E\u91CD\u8BD5!"),l.abrupt("return",!1);case 14:case"end":return l.stop()}},j,null,[[1,9]])}));return function(b){return x.apply(this,arguments)}}(),ce=function(){var x=(0,s.Z)(r().mark(function j(b){var w;return r().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return w=o.default.loading("\u4FEE\u6539\u89D2\u8272"),l.prev=1,l.next=4,(0,N.ul)(b);case 4:return w(),o.default.success("\u66F4\u65B0\u6210\u529F"),l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(1),w(),o.default.error("\u66F4\u65B0\u5931\u8D25, \u8BF7\u7A0D\u540E\u91CD\u8BD5!"),l.abrupt("return",!1);case 14:case"end":return l.stop()}},j,null,[[1,9]])}));return function(b){return x.apply(this,arguments)}}(),q=function(){var x=(0,s.Z)(r().mark(function j(b){var w;return r().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(w=o.default.loading("\u6B63\u5728\u5220\u9664"),b){l.next=3;break}return l.abrupt("return",!0);case 3:return l.prev=3,l.next=6,(0,N.l5)(b.map(function(L){return L.roleId}));case 6:return w(),o.default.success("\u5220\u9664\u6210\u529F\uFF01"),l.abrupt("return",!0);case 11:return l.prev=11,l.t0=l.catch(3),w(),o.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01"),l.abrupt("return",!1);case 16:case"end":return l.stop()}},j,null,[[3,11]])}));return function(b){return x.apply(this,arguments)}}(),pe=function(){var j=(0,t.useState)(!1),b=(0,v.Z)(j,2),w=b[0],S=b[1],l=(0,t.useState)(!1),L=(0,v.Z)(l,2),_e=L[0],H=L[1],fe=(0,t.useState)(!1),ee=(0,v.Z)(fe,2),re=ee[0],te=ee[1],K=(0,t.useRef)(),ve=(0,t.useState)(),ae=(0,v.Z)(ve,2),A=ae[0],G=ae[1],he=(0,t.useState)([]),ne=(0,v.Z)(he,2),Pe=ne[0],se=ne[1],le=[{title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",render:function(E,p){return(0,a.jsx)("a",{onClick:function(){G(p),te(!0)},children:E})}},{title:"\u89D2\u8272\u6807\u8BC6",dataIndex:"roleKey"},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,hideInSearch:!0,valueEnum:{0:{text:(0,a.jsx)(T.Z,{color:"green",children:"\u6709\u6548"}),status:"Default"},1:{text:(0,a.jsx)(T.Z,{color:"red",children:"\u65E0\u6548"}),status:"Processing"}}},{title:"\u521B\u5EFA\u65F6\u95F4",sorter:!0,hideInSearch:!0,dataIndex:"createTime",valueType:"dateTime"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(E,p){return p.roleKey==="admin"?[]:[(0,a.jsx)("a",{onClick:(0,s.Z)(r().mark(function h(){var U,y;return r().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,J.RH)(p.roleId);case 2:U=V.sent,U.code===200?(y=U.data.checkedKeys,H(!0),G((0,c.Z)((0,c.Z)({},p),{},{menuIds:y}))):o.default.error("\u67E5\u8BE2\u83DC\u5355\u6743\u9650\u5931\u8D25!");case 4:case"end":return V.stop()}},h)})),children:"\u4FEE\u6539"},"modify"),(0,a.jsx)("a",{onClick:(0,s.Z)(r().mark(function h(){var U;return r().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,q([p]);case 2:U=$.sent,U&&K.current&&K.current.reload();case 4:case"end":return $.stop()}},h)})),children:"\u5220\u9664"},"remove")]}}];return(0,a.jsxs)(D.ZP,{children:[(0,a.jsx)(m.ZP,{headerTitle:"\u89D2\u8272\u5217\u8868",actionRef:K,rowKey:"roleId",search:{labelWidth:120},toolBarRender:function(){return[(0,a.jsxs)(g.Z,{type:"primary",onClick:function(){S(!0)},children:[(0,a.jsx)(i.Z,{})," \u65B0\u589E"]},"primary")]},request:N.ME,columns:le,rowSelection:{onChange:function(E,p){se(p)}},tableAlertRender:function(E){var p=E.selectedRowKeys,h=E.onCleanSelected;return(0,a.jsx)(M.Z,{size:24,children:(0,a.jsxs)("span",{children:["\u5DF2\u9009 ",p.length," \u9879",(0,a.jsx)("a",{style:{marginLeft:8},onClick:h,children:"\u53D6\u6D88\u9009\u62E9"})]})})},tableAlertOptionRender:function(){return(0,a.jsx)(M.Z,{size:16,children:(0,a.jsx)(g.Z,{onClick:(0,s.Z)(r().mark(function E(){var p,h;return r().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,q(Pe);case 2:se([]),(p=K.current)===null||p===void 0||(h=p.reloadAndRest)===null||h===void 0||h.call(p);case 4:case"end":return y.stop()}},E)})),children:"\u6279\u91CF\u5220\u9664"})})}}),(0,a.jsxs)(I.Y,{modalProps:{destroyOnClose:!0},title:"\u65B0\u589E\u89D2\u8272",width:"60%",visible:w,onVisibleChange:S,onFinish:function(){var W=(0,s.Z)(r().mark(function E(p){var h;return r().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,de(p);case 2:h=y.sent,h&&(S(!1),K.current&&K.current.reload());case 4:case"end":return y.stop()}},E)}));return function(E){return W.apply(this,arguments)}}(),children:[(0,a.jsxs)(F.A.Group,{children:[(0,a.jsx)(Y.Z,{rules:[{required:!0,message:"\u89D2\u8272\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],label:"\u89D2\u8272\u540D\u79F0",width:"md",name:"roleName"}),(0,a.jsx)(Y.Z,{rules:[{required:!0,message:"\u89D2\u8272\u6807\u8BC6\u4E0D\u80FD\u4E3A\u7A7A"}],label:"\u89D2\u8272\u6807\u8BC6",width:"md",name:"roleKey"})]}),(0,a.jsxs)(F.A.Group,{children:[(0,a.jsx)(z.Z,{width:"md",name:"roleSort",label:"\u89D2\u8272\u987A\u5E8F",initialValue:1}),(0,a.jsx)(Q.Z.Group,{width:"md",initialValue:"0",name:"status",label:"\u72B6\u6001",options:[{label:"\u6B63\u5E38",value:"0"},{label:"\u505C\u7528",value:"1"}]})]}),(0,a.jsx)(F.A.Group,{children:(0,a.jsx)(X.Z,{width:"md",label:"\u83DC\u5355\u6743\u9650",request:(0,s.Z)(r().mark(function W(){var E;return r().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,J.bE)();case 2:return E=h.sent,h.abrupt("return",E.data);case 4:case"end":return h.stop()}},W)})),fieldProps:{fieldNames:{label:"label",value:"id",children:"children"},showCheckedStrategy:n.Z.SHOW_ALL,treeCheckable:!0},name:"menuIds"})}),(0,a.jsx)(F.A.Group,{children:(0,a.jsx)(k.Z,{width:"md",label:"\u5907\u6CE8",name:"remark"})})]}),(0,a.jsx)(oe,{onSubmit:function(){var W=(0,s.Z)(r().mark(function E(p){var h;return r().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,ce((0,c.Z)((0,c.Z)({},p),{},{roleId:A==null?void 0:A.roleId}));case 2:h=y.sent,h&&(H(!1),G(void 0),K.current&&K.current.reload());case 4:case"end":return y.stop()}},E)}));return function(E){return W.apply(this,arguments)}}(),onCancel:function(E){E||(H(!1),re||G(void 0))},updateModalVisible:_e,values:A||{}}),(0,a.jsx)(u.Z,{width:600,visible:re,onClose:function(){G(void 0),te(!1)},closable:!1,children:(A==null?void 0:A.roleName)&&(0,a.jsx)(ue.Z,{column:2,title:A==null?void 0:A.roleName,request:(0,s.Z)(r().mark(function W(){return r().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",{data:A||{}});case 1:case"end":return p.stop()}},W)})),params:{id:A==null?void 0:A.roleId},columns:le})})]})},me=pe},60327:function(B,O,e){"use strict";e.d(O,{bE:function(){return M},RH:function(){return g},VB:function(){return T},$L:function(){return c},xd:function(){return o},qQ:function(){return P}});var _=e(8870),u=e(3182),R=e(94043),n=e.n(R),f=e(55168);function M(){return Z.apply(this,arguments)}function Z(){return Z=(0,u.Z)(n().mark(function i(){return n().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,f.WY)("/api/system/menu/treeselect",{method:"GET"}));case 1:case"end":return D.stop()}},i)})),Z.apply(this,arguments)}function g(i){return d.apply(this,arguments)}function d(){return d=(0,u.Z)(n().mark(function i(t){return n().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,f.WY)("/api/system/menu/roleMenuTreeselect/".concat(t),{method:"GET"}));case 1:case"end":return m.stop()}},i)})),d.apply(this,arguments)}function T(i,t){return v.apply(this,arguments)}function v(){return v=(0,u.Z)(n().mark(function i(t,D){return n().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",(0,f.WY)("/api/system/menu/list",(0,_.Z)({method:"GET",params:(0,_.Z)({},t)},D)));case 1:case"end":return I.stop()}},i)})),v.apply(this,arguments)}function c(i){return C.apply(this,arguments)}function C(){return C=(0,u.Z)(n().mark(function i(t){return n().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,f.WY)("/api/system/menu",{method:"POST",data:(0,_.Z)((0,_.Z)({},t),{},{status:0})}));case 1:case"end":return m.stop()}},i)})),C.apply(this,arguments)}function o(i){return s.apply(this,arguments)}function s(){return s=(0,u.Z)(n().mark(function i(t){return n().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,f.WY)("/api/system/menu",{method:"PUT",data:(0,_.Z)({},t)}));case 1:case"end":return m.stop()}},i)})),s.apply(this,arguments)}function P(i){return r.apply(this,arguments)}function r(){return r=(0,u.Z)(n().mark(function i(t){return n().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,f.WY)("/api/system/menu/".concat(t),{method:"DELETE"}));case 1:case"end":return m.stop()}},i)})),r.apply(this,arguments)}},96646:function(B,O,e){"use strict";e.d(O,{W9:function(){return M},ME:function(){return g},_d:function(){return T},ul:function(){return c},l5:function(){return o}});var _=e(8870),u=e(3182),R=e(94043),n=e.n(R),f=e(55168);function M(P){return Z.apply(this,arguments)}function Z(){return Z=(0,u.Z)(n().mark(function P(r){return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.WY)("/api/system/role/optionselect",(0,_.Z)({method:"GET"},r||{})));case 1:case"end":return t.stop()}},P)})),Z.apply(this,arguments)}function g(P,r){return d.apply(this,arguments)}function d(){return d=(0,u.Z)(n().mark(function P(r,i){return n().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,f.WY)("/api/system/role/list",(0,_.Z)({method:"GET",params:(0,_.Z)({},r)},i||{})));case 1:case"end":return D.stop()}},P)})),d.apply(this,arguments)}function T(P){return v.apply(this,arguments)}function v(){return v=(0,u.Z)(n().mark(function P(r){return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.WY)("/api/system/role",{method:"POST",data:(0,_.Z)((0,_.Z)({},r),{},{status:0})}));case 1:case"end":return t.stop()}},P)})),v.apply(this,arguments)}function c(P){return C.apply(this,arguments)}function C(){return C=(0,u.Z)(n().mark(function P(r){return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.WY)("/api/system/role",{method:"PUT",data:r}));case 1:case"end":return t.stop()}},P)})),C.apply(this,arguments)}function o(P){return s.apply(this,arguments)}function s(){return s=(0,u.Z)(n().mark(function P(r){return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.WY)("/api/system/role/".concat(r),{method:"DELETE"}));case 1:case"end":return t.stop()}},P)})),s.apply(this,arguments)}}}]);
